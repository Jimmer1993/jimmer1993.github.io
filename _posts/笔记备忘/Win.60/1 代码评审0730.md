1 代码评审0730

1、接口不要返回布尔值，直接void即可
2、DTO参数如果有变动(修改参数名或删除)，需要考虑与现有版本的兼容性,另起新版本号的api来做，不可以直接改动
3、继承了框架RPCDTO的inputDTO不需要再加@Validated注解检验
4、业务层需要有自己的DO或VO，不能直接用DTO或者PO,DTO与PO应该基于VO或DO进行转换
6、查询修改参数都需要加soid，查询条件需要传入soid,即使是使用主键查询.
7、定义map需要指定大小与填充因子,已知大小的map可以使用new HashMap<>(list.size(),1).(切记这种情况下填充因子不能为默认的0.75)
8、命名要规范，不能用拼音或者obj这种无法理解的,x,ii
9、方法要进行封装，提高可复用性，也防止方法过长
10、代码遵循开闭原则，使用策略模式工厂模式等等
11、有外部调用的，可以考虑做同步处理(多线程)
12、订单药品与非药品订单生成可以分为两个方法,并行处理提高效率
13、中台调用外部服务时,可以考虑再封一层,而不是直接用他们暴露出来的接口,这样参数校验,异常处理等等就可以集中在一起处理
5、查询需要走redis，不要直接查询数据库.redis没有再查数据库,并且查询后装入redis缓存.跨域查询也可以使用redis,一次获取该域所有数据装入缓存,自己拼数据.
  redis同步问题:
  1)参考曹思做过的同步器,5分钟同步一次.
  2)对数据库进行新增修改后,要更新redis.可以考虑给前端界面提供一个redis更新api.
  3)跨域缓存的同步,需要跨域通知机制(redis)



